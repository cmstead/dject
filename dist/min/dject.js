!function(e){"use strict";"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectCoreFactory=e}(function(){var r={},t={};function i(e){return void 0!==r[e]}function n(e){if(!i(e))throw new Error("Module "+e+" has not been registered")}function u(e){return n(e),r[e]()}function d(e){return n(e),r[e].buildWithObject()}function l(e,n,o){return e[n]=o,e}function c(e,n,o){return r[e]=function(n,o){function e(){return n.apply(null,o.map(u))}return Object.defineProperty(e,"originalModule",{value:n,writeable:!1,configurable:!1}),Object.defineProperty(e,"buildWithObject",{value:function(){var r=o.map(d),e=o.reduce(function(e,n,o){e[n]=r[o]},{});return n(e)},writeable:!1,configurable:!1}),l(e,"dependencies",function(){return o.slice(0)})}(n,o),t}function e(e,n){return l(e,n,r[n])}return t.build=u,t.buildWithObject=d,t.getModuleBuilder=function(e){return r[e]},t.getModuleRegistry=function(){return Object.keys(r).reduce(e,{})},t.isRegistered=i,t.getDependencies=function(e){return n(e),r[e].dependencies()},t.override=function(e,n,o){return function(e){if(!i(e))throw new Error("Cannot override module, "+e+"; it has not been registered")}(e),c(e,n,o)},t.register=function(e,n,o){return function(e){if(i(e))throw new Error("Cannot reregister module "+e)}(e),c(e,n,o)},t}),window.djectLoaders={},function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.baseUtilsLoader=e}(function(e){"use strict";function i(e){if(void 0===e)throw new Error("Dject requires a configuration object")}function u(e,n,o){e&&o.registerAllModulesFromPaths(n)}function o(e,n){return Boolean(e)?e:n}function d(e){var n=Object.create(e);return n.allowOverride=o(e.allowOverride,!1),n.eagerLoad=o(e.eagerLoad,!1),n.errorOnModuleDNE=o(e.errorOnModuleDNE,!1),n.dependenciesAsObject=o(e.dependenciesAsObject,!1),n}e.register("baseUtils",function(o,r){var n=/^.+\.js$/;function t(e){return n.test(e)?e:e+r.sep+"*.js"}return{buildLocalConfig:d,buildModulePaths:function(e){var n;return(void 0!==(n=e).modulePaths?n.modulePaths.map(function(e){return r.join(n.cwd,e)}):[]).map(t).map(function(e){return o.sync(e)}).reduce(function(e,n){return e.concat(n)},[])},throwOnBadConfig:i,performEagerLoad:u}},["glob","path"])}),function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.containerFactoryLoader=e}(function(e){"use strict";var n="undefined"!=typeof module&&void 0!==module.exports?require("dject-core"):window.djectCoreFactory;e.register("containerFactory",function(){return n},[])}),function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.djectLoader=e}(function(e){"use strict";e.register("dject",function(s,a,f,p,m,g,w){return{new:function t(e){s.throwOnBadConfig(e);var i=s.buildLocalConfig(e),o=s.buildModulePaths(i),u=a(),d=w(o,u),n=p(u,d,i);function r(e){if(n=e,i.errorOnModuleDNE&&!f.isFileInPaths(o,n)&&null===m.loadInstalledModule(n))throw new Error("Cannot register module that does not exist in filesystem; errorOnModuleDNE is set to true");var n}function l(e,n){return"string"==typeof n?n:g.getModuleName(e)}s.performEagerLoad(i.eagerLoad,o,d);var c={build:n.build,buildDependencyMap:function(e,r){return e.reduce(function(e,n,o){return e[n]=r[o],e},{})},copyProps:function(n,o){return Object.keys(o).forEach(function(e){void 0===n[e]&&(n[e]=o[e])}),n},getRegisteredModules:d.getRegisteredModules,getDependencyTree:function e(n){d.loadModule(n);var o=d.getModuleBuilder(n),r=o.dependencies();return{name:n,instantiable:Boolean(o["@instantiable"]),singleton:Boolean(o["@singleton"]),dependencies:r.map(e)}},loadModule:d.loadModule,new:function(){var e,n,o=t((e=i,(n=Object.create(e)).allowOverride=!0,n)),r=u.getModuleRegistry();return Object.keys(r).forEach(function(e){if("__container"!==e){var n=r[e];o.register(n.originalModule,e)}}),o},override:function(e,n){var o=l(e,n);!function(){if(!i.allowOverride)throw new Error("Cannot override module, allowOverride is set to false.")}(),r(o),d.override(e,o)},register:function(e,n){r(l(e,n)),d.registerModule(e,n)},registerModules:d.registerModules};return d.registerModule(function(){return c}),c}}},["baseUtils","containerFactory","fileLoader","moduleBuilderFactory","moduleLoader","moduleUtils","registryFactory"])}),function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.fileLoaderLoader=e}(function(e){e.register("fileLoader",function(e,n,r){function d(o){return function(e){var n=r.join(o,e);return require(n)}}function l(e){var n=e.split(/[\/\\]/);return n.slice(0,n.length-1).join(r.sep)}return{isFileInPaths:function(e,n){var o=n+".js";return 0<e.filter(function(e){return e.endsWith(o)}).length},loadFileFromPaths:function(e,n){var o=n+".js",r=new RegExp("[\\/\\\\]"+n+"\\.js$","i"),t=e.filter(function(e){return r.test(e)});if(1<t.length){var i="Cannot load module, "+n+"; duplicate modules exist in the following paths: "+t.join(",");throw new Error(i)}var u=0<t.length?l(t[0]):null;return null!==u?d(u)(o):null},loadAllFilesFromPaths:function(e){return e.map(function(e){var n=e.split(/[\/\\]/).pop();return d(l(e))(n)})}}},["fs","glob","path"])}),function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.moduleBuilderFactoryLoader=e}(function(e){"use strict";e.register("moduleBuilderFactory",function(){return function(o,n,r){function t(e){o.isRegistered(e)||n.loadModule(e)}function i(e){return t(e),function n(e){o.getDependencies(e).forEach(function(e){t(e),n(e)})}(e),r.dependenciesAsObject?o.buildWithObject(e):o.build(e)}return{build:function(e){try{return i(e)}catch(e){var n="An error occurred while processing dependencies: "+e.message;throw new Error(n)}}}}},[])}),function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.moduleLoaderLoader=e}(function(e){e.register("moduleLoader",function(){return{loadInstalledModule:function(e){var n=e.replace(/([A-Z])/g,"-$1").toLowerCase();try{return require(n)}catch(e){return null}}}},[])});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.moduleUtilsLoader=e}(function(e){"use strict";e.register("moduleUtils",function(){function t(e){var n=e["@name"];return"string"==typeof n?n:e.name}function n(e){return function(n){try{return e=n.toString(),null!==(r=e.match(/function\s.*?\(([^)]*)\)/))?r[1]:e.match(/.*\(([^)]*)\)\s*\=\>/)[1]}catch(e){var o="Unable to parse arguments from function or expression: "+t(n);throw new Error(o)}var e,r}(e).replace(/\/\*.*\*\//,"").split(",").map(function(e){return e.trim()}).filter(function(e){return 0<e.length})}function o(e){return function(e){var n="Cannot register module. Expected function, but got "+(void 0===e?"undefined":_typeof(e))+" with value "+JSON.stringify(e,null,4);if("function"!=typeof e)throw new Error(n)}(e),"object"===_typeof(e["@dependencies"])?e["@dependencies"]:"function"==typeof e.dependencies?e.dependencies():n(e)}return{getModuleDependencies:o,getModuleName:t,getModuleInfo:function(e,n){return{dependencies:o(e),name:"string"==typeof n?n:t(e)}}}},[])}),function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.moduleWrapperLoader=e}(function(e){"use strict";e.register("moduleWrapper",function(){function n(o){var r=null;function e(){var e,n;return r=null===r?(e=arguments,n=Array.prototype.slice.call(e,0),o.apply(null,n)):r}return e["@singleton"]=!0,e["@dependencies"]=o["@dependencies"],e}return{wrapSpecialModule:function(e){return e["@singleton"]?n(e):e["@instantiable"]?function(o){function e(){var e=Array.prototype.slice.call(arguments,0),n=Object.create(o.prototype);return o.apply(n,e),n}return e["@instantiable"]=!0,e["@dependencies"]=o["@dependencies"],e}(e):e}}},[])}),function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.registryLoader=e}(function(e){"use strict";e.register("registryFactory",function(c,s,a,f){return function(u,d){function l(e,n){var o=a.getModuleInfo(e,n),r=o.dependencies,t=o.name,i=f.wrapSpecialModule(e);d.register(t,i,r)}return{getModuleBuilder:d.getModuleBuilder,getRegisteredModules:function(){var e=d.getModuleRegistry();return Object.keys(e)},loadModule:function(e){var n,o,r,t,i;d.isRegistered(e)||(n=u,o=e,null!==(r=c.loadFileFromPaths(n,o))&&l(r)),d.isRegistered(e)||(t=e,null!==(i=s.loadInstalledModule(t))&&l(function(){return i},t))},override:function(e,n){var o=a.getModuleInfo(e,n),r=o.dependencies,t=o.name,i=f.wrapSpecialModule(e);d.override(t,i,r)},registerAllModulesFromPaths:function(e){c.loadAllFilesFromPaths(e).forEach(l)},registerModule:l,registerModules:function(e){e.forEach(l)}}}},["fileLoader","moduleLoader","moduleUtils","moduleWrapper"])}),function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.fsLoader=e}(function(e){"use strict";function n(){throw new Error("Cannot load filesystem modules when not in NodeJS environmet")}e.register("fs",function(){var e={readdirSync:n,lstatSync:n};return"undefined"!=typeof module&&void 0!==module.exports?require("fs"):e},[])}),function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.globLoader=e}(function(e){"use strict";function o(){throw new Error("Cannot load filesystem modules when not in NodeJS environmet")}e.register("glob",function(){var e="undefined"!=typeof module&&void 0!==module.exports;function n(){o()}return n.sync=o,e?require("glob"):n},[])}),function(e){"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.djectLoaders.pathLoader=e}(function(e){"use strict";var n="undefined"!=typeof module&&void 0!==module.exports;e.register("path",function(){return n?require("path"):null},[])}),function(){"use strict";var e="undefined"!=typeof module&&void 0!==module.exports,n=e?require("./coreContainer"):window.djectCoreFactory();e?module.exports=n.build("dject"):(Object.keys(window.djectLoaders).forEach(function(e){window.djectLoaders[e](n)}),window.djectLoaders=void 0,window.dject=n.build("dject"))}();